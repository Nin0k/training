@using PL.Web
@{
    var WebUserPL = new WebUsersPL();
    var WebAwardPL = new WebAwardsPL();
    var WebRewardPL = new WebRewardsPL();

    var type = Request["type"];

    if (type == "user")
    {

        if (Guid.TryParse(Request["id"], out Guid id))
        {
            WebUserPL.DeleteUser(id);
            WebRewardPL.DeleteUserReward(id);
        }

    }
    else if (type == "award")
    {
        if (Guid.TryParse(Request["id"], out Guid id))
        {
            WebAwardPL.DeleteAward(id);
            WebRewardPL.DeleteAwardReward(id);
        }
    }
    if (type == "reward")
    {

        if (Guid.TryParse(Request["idUser"], out Guid idUser))
        {
            if (Guid.TryParse(Request["idAward"], out Guid idAward))
            {
                WebRewardPL.DeleteReward(idUser, idAward);
            }

        }
    }
}